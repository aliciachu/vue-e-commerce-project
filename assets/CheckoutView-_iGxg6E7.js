import{a as n}from"./axios-nwi5g7Xq.js";import{_ as p,c,d as t,F as h,f as m,t as o,i as u,o as a}from"./index-dPXdaXYj.js";var b={VITE_URL:"https://ec-course-api.hexschool.io",VITE_PATH:"amaaaa",BASE_URL:"/vue-e-commerce-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:i,VITE_PATH:_}=b,f={data(){return{orderId:"",order:{}}},methods:{getOrder(){const r=`${i}/v2/api/${_}/order/${this.orderId}`;n.get(r).then(s=>{this.order=s.data.order})},payOrder(){const r=`${i}/v2/api/${_}/pay/${this.orderId}`;n.post(r).then(()=>{alert("付款成功"),this.$router.push("/"),this.getOrder()}).catch(s=>{alert(s.response.data.message)})}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},x={class:"container"},v=t("div",{class:"row justify-content-center"},[t("div",{class:"col-md-10"},[t("h3",{class:"fw-bold mb-4 pt-3"},"付款")])],-1),w={class:"row flex-row-reverse justify-content-center pb-5"},y={class:"col-md-8"},g={class:"border p-4 mb-4"},T=["src","alt"],$={class:"w-100"},I={class:"d-flex justify-content-between"},E={class:"mb-0 fw-bold"},O={class:"mb-0"},j={class:"mb-0 fw-bold"},V={class:"table mt-4 border-top border-bottom text-muted"},k=t("th",{scope:"row",class:"border-0 px-0 pt-4 font-weight-normal"},"Subtotal",-1),P={class:"text-end border-0 px-0 pt-4"},R=t("tr",null,[t("th",{scope:"row",class:"border-0 px-0 pt-0 pb-4 font-weight-normal"},"Payment"),t("td",{class:"text-end border-0 px-0 pt-0 pb-4"},"ApplePay")],-1),S={class:"d-flex justify-content-between mt-4"},A=t("p",{class:"mb-0 h4 fw-bold"},"Total",-1),B={class:"mb-0 h4 fw-bold"},D={class:"col-md-6"},L={class:"d-flex flex-column-reverse flex-md-row mt-4 justify-content-between align-items-md-center"};function N(r,s,U,C,d,l){return a(),c("div",x,[v,t("div",w,[t("div",y,[t("div",g,[(a(!0),c(h,null,m(d.order.products,e=>(a(),c("div",{key:e.id,class:"d-flex"},[t("img",{src:e.product.imageUrl,alt:e.product.title,class:"me-2",style:{width:"48px",height:"48px","object-fit":"cover"}},null,8,T),t("div",$,[t("div",I,[t("p",E,o(e.product.title),1),t("p",O,"NT$"+o(e.total),1)]),t("p",j,"x"+o(e.qty),1)])]))),128)),t("table",V,[t("tbody",null,[t("tr",null,[k,t("td",P,"NT$"+o(d.order.total),1)]),R])]),t("div",S,[A,t("p",B,"NT$"+o(d.order.total),1)]),t("div",D,[t("div",L,[t("a",{onClick:s[0]||(s[0]=u((...e)=>l.payOrder&&l.payOrder(...e),["prevent"])),class:"btn btn-dark py-3 px-7"},"確認付款")])])])])])])}const M=p(f,[["render",N]]);export{M as default};
